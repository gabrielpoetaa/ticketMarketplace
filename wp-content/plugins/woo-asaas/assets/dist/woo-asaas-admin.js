(()=>{var e={208:()=>{jQuery((function(e){var t={noSplitWalletsRow:e(".object-setting-table__no-wallets")};function a(){t.noSplitWalletsRow.toggleClass("object-setting-table__no-wallets--hidden",e(".object-setting-table__row").length>0)}e(".remove-wallet-row").on("click",(function(t){t.preventDefault();var o=e(this).data("index");e('.object-setting-table__row[data-index="'+o+'"]').remove(),a()})),e("#add-wallet").on("click",(function(t){t.preventDefault();var o=e(".object-setting-table__row").last().data("index");o=void 0===o?0:o+1;var n=e("#wallet-row-template").html().replace(/{index}/g,o),i=e(n);e("#split-wallet-table-list").append(i),a(),e(".select-split-wallet-type",i).on("change",(function(){var t=e(this).closest("tr"),a=e(".wallet-value-before",t),o=e(".wallet-value-after",t);"percentage"===e(this).val()?(a.hide(),o.show()):(a.show(),o.hide())})),e(".remove-wallet-row",i).on("click",(function(t){t.preventDefault();var o=e(this).data("index");e('.object-setting-table__row[data-index="'+o+'"]').remove(),a()}))}))}))},433:()=>{jQuery((function(e){var t={postStatus:e("#post-body .misc-pub-post-status"),authorStatus:e("#post-body .misc-pub-post-author"),visibilityStatus:e("#post-body .misc-pub-visibility#visibility"),publishStatus:e("#post-body .misc-pub-curtime"),saveAction:e("#save-action")};t.publishStatus.find("a").remove(),t.postStatus.find("a.edit-post-status").remove(),t.visibilityStatus.remove(),t.saveAction.remove(),t.authorStatus.insertAfter(t.postStatus),function(){if("string"==typeof createdInLabel&&createdInLabel.trim().length>0){var e=t.publishStatus.find("#timestamp b").text();t.publishStatus.find("#timestamp").html(" ".concat(createdInLabel,": <b>").concat(e,"</b>"))}}()}))}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,a),i.exports}(()=>{"use strict";var e=new URLSearchParams(window.location.search);jQuery((function(t){if(a=e.get("tab"),o=e.get("section"),"woocommerce_page_wc-settings"===window.adminpage&&"checkout"===a&&["asaas-credit-card"].includes(o)){var a,o,n=e.get("section"),i=window.ajaxurl,s=_wooAsaasAdminSettings.nonce,c=t("#woocommerce_".concat(n,"_endpoint")),r=t("#woocommerce_".concat(n,"_anticipation")),l=t("#woocommerce_".concat(n,"_api_key")),d=t('<span class="preloader"></span>'),u=t(".woocommerce-save-button"),p=""===l.val(),v=!1,f=!1;l.on("change",(function(){(p||""===t(this).val())&&(r.prop("checked",!1),r.prop("disabled",!0))})),c.on("change",(function(){return m()})),r.on("change",(function(){t(this).prop("checked")&&!v?(r.after(d),r.hide(),t.ajax({url:i,data:{action:"check_anticipation_allowed_person_type",_nonce:s},beforeSend:function(){h()},success:function(e){var t=e.data;f="JURIDICA"===t.personType,w()},error:function(){v=!1,d.remove(),r.prop("checked",!1),r.prop("disabled",!0),r.show(),u.prop("disabled",!1)}})):m()})),t.ajax({url:i,type:"POST",data:{action:"check_anticipation_allowed"},success:function(e){var t=e.data;f=!!t.allowAnticipation}}),u.on("click",(function(){f||r.prop("checked",!1)}))}function m(){r.prop("checked",!1),r.after(d),r.hide(),t.ajax({url:i,type:"POST",data:{action:"check_anticipation_option",_nonce:s},beforeSend:function(){h()},success:function(){w()}})}function h(){v=!0,r.prop("disabled",!0),u.prop("disabled",!0)}function w(){v=!1,r.prop("disabled",!1),d.remove(),r.show(),u.prop("disabled",!1)}})),jQuery((function(t){var a,o,n,i=e.get("section"),s=window.ajaxurl,c=_wooAsaasAdminSettings.nonce,r=t("#woocommerce_".concat(i,"_anticipation")),l=t("#woocommerce_".concat(i,"_endpoint")),d=t("#woocommerce_".concat(i,"_api_key")),u=t("#woocommerce_".concat(i,"_email_notification")),p=t(".reenable-queue"),v=t(".woocommerce-save-button"),f=t("#webhook-status-connection"),m=t("#webhook-status-queue"),h=t('<span class="preloader"></span>'),w=t('<span class="apikey-message"></span>');function b(e){h.remove(),w.remove(),d.after(h),t.ajax({url:s,type:"POST",data:{action:"check_webhook_setting",url:e.enviromentUrl,api_key:e.apiKey,_nonce:e.ajaxNonce},beforeSend:function(){_()},success:function(e){if(h.remove(),!e.success||e.data)if(d.after(w),w.html("✅ Chave de API válida."),_(!1),e.success){r.prop("disabled",!1);var a=e.data[0].enabled,o=e.data[0].interrupted;g(!a||o),n=e.data[0].email,u.val()!==n&&t.ajax({url:s,type:"POST",data:{action:"update_existing_webhook_email"}})}else r.prop("disabled",!0),_(!1),g(!1),h.remove(),d.after(w),w.html("❌ Chave de API inválida.");else _(!1);var n}})}function _(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];v.prop("disabled",e)}function g(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?p.attr("disabled",!0):p.removeAttr("disabled")}a=e.get("tab"),"woocommerce_page_wc-status"!==window.adminpage||"status"!==a&&a||t.ajax({url:s,data:{action:"check_webhook_status"},success:function(e){if(f.find(".loader").hide(),m.find(".loader").hide(),e.success){var t=e.data[0].enabled,a=e.data[0].interrupted;f.find(".connection-yes").show(),t&&!a?m.find(".queue-yes").show():m.find(".queue-error").show(),g(!t||a)}else f.find(".connection-error").show(),m.find(".queue-error").show()},error:function(){f.find(".connection-error").show(),m.find(".queue-error").show()}}),function(){var t=e.get("tab"),a=e.get("section");return"woocommerce_page_wc-settings"===window.adminpage&&"checkout"===t&&["asaas-ticket","asaas-credit-card","asaas-pix"].includes(a)}()&&(o=d.val(),n=l.val(),l.on("change",(function(){n=t(this).val();var e=d.val();""!==e&&(w.remove(),b({enviromentUrl:n,apiKey:e,ajaxNonce:c}))})),d.on("input",function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var o=this,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];clearTimeout(t),t=setTimeout((function(){return e.apply(o,i)}),a)}}((function(){var e=t(this).val();if(w.remove(),""===e)return g(!1),h.remove(),void w.remove();b({enviromentUrl:n,apiKey:e,ajaxNonce:c})}),1200)),""!==o&&b({enviromentUrl:n,apiKey:o,ajaxNonce:c})),u.prop("required",!0),p.on("click",(function(e){e.preventDefault(),g(!1),t.ajax({url:s,type:"POST",data:{action:"update_existing_webhook_queue"},beforeSend:function(){p.html('<span class="preloader"></span> Aguarde...')},success:function(e){if(e.success){var a=e.data,o=a.enabled,n=a.interrupted;g(!o||n),m.find(".error").removeClass("error").addClass("yes"),m.find(".dashicons-no").removeClass("dashicons-no").addClass("dashicons-yes");var i=t('<span class="reenable-message"></span>');i.insertAfter(p),i.html("✅ Fila reativada com sucesso"),p.text("Reabilitar fila de webhooks"),setTimeout((function(){i.remove()}),5e3)}},error:function(){}})}))})),a(208),a(433)})()})();